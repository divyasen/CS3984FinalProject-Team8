<?xml version="1.0" encoding="UTF-8"?>
<!--
Created by Zoe Smith on 2017.04.24
Copyright © 2017 Zoe Smith. All rights reserved.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <!-- Do not enter tags before the composition line since they are ignored by JSF -->

    <!-- This page is constructed based on the siteTemplate -->
    <ui:composition template="template/siteTemplate.xhtml">

        <ui:define name="title">
            <!-- Set the page title -->
            <h:outputText value="Browse Electronics Results"></h:outputText>
        </ui:define>

        <!-- Create the content for this page below -->
        <ui:define name="editableContent">

            <div align="center" style="width:97%">
                <!--
                PrimeFaces Growl displays messages in an overlay. Place p:growl anywhere on your JSF page. 
                The location of growl in a JSF page does not matter since the messages are displayed
                as an overlay. The following will display the messages for 5 seconds and then fade away.
                -->
                <p:growl id="growl" life="5000" />

                <h:form id="BrowseElectronics">

                    <!-- The search results are displayed under p:panel -->
                    <p:panel header="Browse Electronics">
                        <!-- 
                        Then listingController searches for and display all items in the given category here. 
                        The returned items are displayed in this page as the browse results.
                        -->
                        <p:dataTable id="datalist" value="#{listingController.browseElectronics}" var="item"
                                     selectionMode="single" selection="#{listingController.selected}"
                                     paginator="true"
                                     rowKey="#{item.id}"
                                     rows="5"
                                     rowsPerPageTemplate="5,10,15,20,30,40,50"
                                     >
                            <!-- Show the image of each listing -->
                            <!--<p:column>
                                <f:facet name="header">
                                    <h:outputText value="Item Name"/>
                                </f:facet>
                                <div>&nbsp;
                                    <img src="#{item.itemName}" width="40"/>&nbsp;
                                </div>
                            </p:column>-->

                            <!-- Clicking the column header redisplays the table as sorted w.r.t. ITEM NAME  
                            in alphabetical order A to Z. Clicking it again reverses the order to Z to A. -->
                            <p:column sortBy="#{item.itemName}">
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.BrowseListingTitle_itemName}"/>
                                </f:facet>
                                <h:outputText value="#{item.itemName}"/>
                            </p:column>
                            <!-- Clicking the column header redisplays the table as sorted w.r.t. DESCRIPTION  
                            in alphabetical order A to Z. Clicking it again reverses the order to Z to A. -->
                            <p:column sortBy="#{item.description}">
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.BrowseListingTitle_description}"/>
                                </f:facet>
                                <h:outputText value="#{item.description}"/>
                            </p:column>
                            <!-- Clicking the column header redisplays the table as sorted w.r.t. POSTING DATE  
                            in ascending order. Clicking it again reverses the order to descending. -->
                            <p:column sortBy="#{item.postingDate}">
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.BrowseListingTitle_postingDate}" class="facetHeader"/>
                                </f:facet>
                                <h:outputText class="dataFields" value="#{item.postingDate}">
                                    <f:convertDateTime pattern="MM/dd/yyyy" />
                                </h:outputText>
                            </p:column>
                            <!-- Clicking the column header redisplays the table as sorted w.r.t. POSTING DATE  
                            in ascending order. Clicking it again reverses the order to descending. -->
                            <p:column sortBy="#{item.price}">
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.BrowseListingTitle_price}" class="facetHeader"/>
                                </f:facet>
                                <h:outputText class="dataFields" value="#{item.price}">
                                        <f:convertNumber currencySymbol="$" groupingUsed="true" maxFractionDigits="2" type="currency" />                                </h:outputText>
                            </p:column>
                            <!-- Clicking the column header redisplays the table as sorted w.r.t. CATEGORY  
                            in alphabetical order A to Z. Clicking it again reverses the order to Z to A. -->
                            <p:column sortBy="#{item.category}">
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.BrowseListingTitle_category}"/>
                                </f:facet>
                                <h:outputText value="#{item.category}"/>
                            </p:column>
                        </p:dataTable>
                    </p:panel>
                </h:form>
            </div>
        </ui:define>

    </ui:composition>
</html>
